<!DOCTYPE html>
<html>
<head>
    <title>V√©rificateur d'ordre du code</title>
</head>
<body>
    <h1>V√©rification de l'ordre du code Andu-Xara</h1>
    <div id="resultat"></div>

    <script>
        console.log('üîç D√©but de la v√©rification...');
        
        // Liste des √©l√©ments √† v√©rifier dans l'ordre
        const elementsAttendus = [
            'Variables globales (floatingCart, activePromoCode, promoDiscount)',
            'Fonction ajouterAuPanier',
            'Fonction updateFloatingCart', 
            'Fonction removeFromFloatingCart',
            'Fonction toggleFloatingCart',
            'Fonction closeFloatingCart',
            'Fonction validateAndApplyPromo',
            'Fonction applyPromoToCart',
            'Fonction removePromoFromCart',
            'Fonction updateActivePromoDisplay',
            'Fonction processFloatingCheckout',
            'Fonction processWavePayment',
            'Fonction processBankilyPayment',
            'Fonction processWhatsAppPayment',
            'Fonction finaliserCommande',
            'Fonction integrerFideliteAchat',
            'DOMContentLoaded'
        ];

        let resultatHTML = '<h2>R√©sultat de la v√©rification :</h2><ul>';
        let tousCorrects = true;

        // V√©rifier les variables globales
        if (typeof floatingCart !== 'undefined' && 
            typeof activePromoCode !== 'undefined' && 
            typeof promoDiscount !== 'undefined') {
            resultatHTML += '<li style="color: green;">‚úÖ Variables globales d√©finies</li>';
        } else {
            resultatHTML += '<li style="color: red;">‚ùå Variables globales MANQUANTES</li>';
            tousCorrects = false;
        }

        // V√©rifier les fonctions une par une
        const fonctions = [
            'ajouterAuPanier', 'updateFloatingCart', 'removeFromFloatingCart',
            'toggleFloatingCart', 'closeFloatingCart', 'validateAndApplyPromo',
            'applyPromoToCart', 'removePromoFromCart', 'updateActivePromoDisplay',
            'processFloatingCheckout', 'processWavePayment', 'processBankilyPayment',
            'processWhatsAppPayment', 'finaliserCommande', 'integrerFideliteAchat'
        ];

        fonctions.forEach(fonction => {
            if (typeof window[fonction] === 'function') {
                resultatHTML += `<li style="color: green;">‚úÖ ${fonction} d√©finie</li>`;
            } else {
                resultatHTML += `<li style="color: red;">‚ùå ${fonction} MANQUANTE</li>`;
                tousCorrects = false;
            }
        });

        // V√©rifier DOMContentLoaded
        resultatHTML += '<li style="color: orange;">‚ö†Ô∏è DOMContentLoaded (√† v√©rifier manuellement)</li>';

        resultatHTML += '</ul>';

        if (tousCorrects) {
            resultatHTML += '<h2 style="color: green;">üéâ TOUT EST EN ORDRE !</h2>';
        } else {
            resultatHTML += '<h2 style="color: red;">‚ö†Ô∏è PROBLEMES DETECTES - VOIR CI-DESSUS</h2>';
        }

        document.getElementById('resultat').innerHTML = resultatHTML;
        console.log('‚úÖ V√©rification termin√©e');
    </script>
</body>
</html>
