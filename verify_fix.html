<!DOCTYPE html>
<html>
<head>
    <title>Test Correctif</title>
</head>
<body>
    <h1>Test des corrections</h1>
    
    <!-- √âl√©ments de test -->
    <div id="adminActiveClients">Ancienne valeur</div>
    <div id="adminCodesUsed">Ancienne valeur</div>
    <div id="performanceClients">Ancienne valeur</div>
    <div id="performanceCodes">Ancienne valeur</div>
    
    <script src="safe_functions.js"></script>
    <script>
        console.log('üß™ TEST DU CORRECTIF');
        
        // Test 1: V√©rifier que les fonctions sont disponibles
        if (typeof safeElementUpdate === 'function') {
            console.log('‚úÖ safeElementUpdate disponible');
        } else {
            console.log('‚ùå safeElementUpdate manquante');
        }
        
        if (typeof safeLoadAdminStats === 'function') {
            console.log('‚úÖ safeLoadAdminStats disponible');
        } else {
            console.log('‚ùå safeLoadAdminStats manquante');
        }
        
        // Test 2: Tester la mise √† jour des √©l√©ments
        console.log('üîÑ Test de mise √† jour des √©l√©ments...');
        safeLoadAdminStats();
        
        // Test 3: V√©rifier les valeurs
        setTimeout(() => {
            const elements = ['adminActiveClients', 'adminCodesUsed', 'performanceClients', 'performanceCodes'];
            let successCount = 0;
            
            elements.forEach(id => {
                const element = document.getElementById(id);
                if (element && element.textContent !== 'Ancienne valeur') {
                    console.log(`‚úÖ ${id} mis √† jour: "${element.textContent}"`);
                    successCount++;
                } else {
                    console.log(`‚ùå ${id} non mis √† jour`);
                }
            });
            
            if (successCount === elements.length) {
                console.log('üéâ TOUS LES TESTS PASS√âS! Le correctif fonctionne!');
            } else {
                console.log(`‚ö†Ô∏è ${successCount}/${elements.length} tests pass√©s`);
            }
        }, 100);
    </script>
</body>
</html>
